!! IOS XR Configuration 7.8.1.04I
!! Last configuration change at Thu Dec 11 19:04:14 2025 by clab
!
hostname r12
username clab
 group root-lr
 group cisco-support
 secret 10 $6$Do0byhkdDQu1y...$TDmmMsc1vZ7BAMyZDJIBPkSbvCG/n70lxsBV4FVK1sc.0Ignc1CkB1b7w4v4.jfHJyZA.ZCgEY0zROScAZlH6/
!
grpc
 vrf Mgmt-intf
 no-tls
 address-family dual
!
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
line default
 exec-timeout 60 0
 session-timeout 60
 transport input ssh
!
alias exec save copy run harddisk:xrd.cfg
call-home
 service active
 contact smart-licensing
 profile CiscoTAC-1
  active
  destination transport-method email disable
  destination transport-method http
 !
!
netconf-yang agent
 ssh
!
interface Loopback0
 ipv4 address 12.12.12.12 255.255.255.255
!
interface MgmtEth0/RP0/CPU0/0
 vrf Mgmt-intf
 ipv4 address 172.20.22.12 255.255.255.0
!
interface GigabitEthernet0/0/0/1
 description TO_R16
 ipv4 address 10.12.16.12 255.255.255.0
!
interface GigabitEthernet0/0/0/2
 description TO_R18
 ipv4 address 10.12.18.12 255.255.255.0
!
interface GigabitEthernet0/0/0/3
 description TO_R10
 ipv4 address 10.10.12.12 255.255.255.0
!
interface GigabitEthernet0/0/0/5
 description TO_R11
 ipv4 address 10.11.12.12 255.255.255.0
!
route-policy pass-all
  pass
end-policy
!
route-policy ADVERTISE_ONLY_LOCALLY_ORIGINATED
  if as-path is-local then
    pass
  else
    drop
  endif
end-policy
!
router static
 vrf Mgmt-intf
  address-family ipv4 unicast
   0.0.0.0/0 MgmtEth0/RP0/CPU0/0 172.20.22.1
  !
 !
!
router bgp 10
 bgp router-id 12.12.12.12
 address-family ipv4 unicast
 !
 neighbor 10.10.12.10
  remote-as 10
  address-family ipv4 unicast
   route-policy pass-all in
   route-policy pass-all out
   next-hop-self
  !
 !
 neighbor 10.11.12.11
  remote-as 10
  address-family ipv4 unicast
   route-policy pass-all in
   route-policy pass-all out
   next-hop-self
  !
 !
 neighbor 10.12.16.16
  remote-as 100
  address-family ipv4 unicast
   route-policy pass-all in
   route-policy ADVERTISE_ONLY_LOCALLY_ORIGINATED out
  !
 !
 neighbor 10.12.18.18
  remote-as 200
  address-family ipv4 unicast
   route-policy pass-all in
   route-policy ADVERTISE_ONLY_LOCALLY_ORIGINATED out
  !
 !
!
ssh server v2
ssh server vrf Mgmt-intf
ssh server netconf vrf Mgmt-intf
end
